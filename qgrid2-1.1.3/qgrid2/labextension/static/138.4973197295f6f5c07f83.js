(self.webpackChunkqgrid2=self.webpackChunkqgrid2||[]).push([[138],{7194:(e,t,i)=>{(t=i(3645)(!1)).push([e.id,"\n.q-grid-container * {\n  -webkit-box-sizing: content-box;\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n}\n\n.q-grid-container {\n  position: relative;\n  overflow-x: auto;\n  width: auto;\n  height: auto;\n  border-radius: 4px;\n}\n\n.q-grid-container .hidden {\n  display: none !important;\n}\n\n.q-grid-container a {\n  color: #337ab7 !important;\n  text-decoration: none;\n  line-height: 20px;\n}\n\n.q-grid-container a:hover,\n.q-grid-container a:focus {\n  color: #23527c;\n  text-decoration: underline;\n}\n\n.q-grid {\n  position: relative;\n  border: 1px solid #d3d3d3;\n  margin-top: 6px;\n  margin-bottom: 2px;\n  box-sizing: border-box;\n}\n\n.q-grid-toolbar {\n  margin: 4px 0\n}\n\n.q-grid-toolbar .btn {\n  background-color: #EEEEEE;\n  border-color: #E0E0E0;\n  margin-right: 6px;\n  padding: 4px 40px;\n  /* taken from bootstrap's btn class, since\n     jupyterlab doesn't include bootstrap css */\n  display: inline-block;\n  margin-bottom: 0;\n  font-weight: normal;\n  text-align: center;\n  vertical-align: middle;\n  touch-action: manipulation;\n  cursor: pointer;\n  background-image: none;\n  border: 1px solid #E0E0E0;\n  white-space: nowrap;\n  font-size: 13px;\n  line-height: 1.42857143;\n  border-radius: 2px;\n}\n\n.q-grid-toolbar .btn:hover {\n  background-color: #DDDDDD;\n  border-color: #CCCCCC;\n}\n\n.q-grid-toolbar .btn:focus {\n  outline: none;\n}\n\n.q-grid-toolbar .close-modal-btn {\n  display: none;\n}\n\n.qgrid-modal .q-grid-toolbar .close-modal-btn {\n  display: block;\n}\n\n.qgrid-modal .full-screen-btn,\n.qgrid-modal .modal-header,\n.qgrid-modal .modal-footer {\n  display: none;\n}\n\n.qgrid-modal {\n  width: 100%;\n  height: 100%;\n  margin: 0px;\n}\n\n.qgrid-modal .modal-dialog {\n  position: absolute;\n  top: 20px;\n  left: 20px;\n  bottom: 20px;\n  right: 20px;\n  margin: 0px;\n  width: auto;\n  height: auto;\n}\n\n.qgrid-modal .modal-content {\n  position: absolute;\n  left: 0px;\n  right: 0px;\n  top: 0px;\n  bottom: 0px;\n}\n\n.qgrid-modal .modal-body {\n  position: absolute;\n  padding: 15px;\n  top: 0px;\n  left: 0px;\n  bottom: 0px;\n  right: 0px;\n}\n\n.qgrid-modal .modal-body button.close {\n  margin-top: 7px;\n  margin-right: 14px;\n}\n\n.qgrid-modal .q-grid-container {\n  bottom: 25px;\n  left: 20px;\n  right: 20px;\n  position: absolute;\n  top: 15px;\n}\n\n.qgrid-modal .q-grid {\n  position: absolute;\n  top: 33px;\n  bottom: 0px;\n  left: 0px;\n  right: 0px;\n  height: auto !important;\n}\n\n.q-grid-toolbar .full-screen-btn,\n.q-grid-toolbar .close-modal-btn {\n  height: 18px;\n  width: 12px;\n  padding: 4px 7px;\n  float: right;\n  margin-right: 0px;\n}\n\n.output_scroll .q-grid {\n  height: 315px !important;\n}\n\n.q-grid-toolbar {\n  display: none;\n}\n\n.show-toolbar .q-grid-toolbar {\n  display: block;\n}\n\n.output_scroll .show-toolbar .q-grid {\n  height: 284px !important;\n}\n\n.q-grid.force-fit-columns .slick-viewport {\n  overflow-x: hidden !important;\n}\n\n.q-grid.hide-scrollbar > .slick-header {\n  margin-bottom: -1px;\n}\n\n.q-grid.hide-scrollbar > .slick-viewport {\n  overflow-y: hidden !important;\n  height: 100%;\n}\n\n.q-grid.hide-scrollbar.force-fit-columns > .slick-viewport {\n  overflow: hidden !important;\n}\n\n.q-grid.hide-scrollbar > .slick-viewport > .grid-canvas {\n  margin-top: 1px;\n}\n\n.q-grid .slick-header {\n  border-top: none;\n  border-left: none;\n  border-right: none;\n}\n\n.q-grid .slick-header-columns,\n.text-filter-grid .slick-header-columns {\n  background: none;\n  background-color: rgb(245, 245, 245);\n  border-bottom: none;\n}\n\n.q-grid.force-fit-columns .slick-header-column:last-child .filter-button:hover,\n.q-grid.force-fit-columns .slick-header-column.active:last-child .filter-button,\n.q-grid.force-fit-columns .slick-header-column:last-child .filter-button.filter-active {\n  border-right: 1px solid #ccc;\n  margin-right: -4px;\n}\n\n.q-grid.force-fit-columns .slick-header-column:last-child .filter-button {\n  margin-right: -4px;\n  border-right: 1px solid transparent;\n}\n\n.q-qgrid.hide-scrollbar .slick-header-column:last-child .slick-resizable-handle {\n  right: -4px;\n}\n\n.q-grid.hide-scrollbar > .slick_header .slick-header-column:last-child .filter-button,\n.q-grid.hide-scrollbar > .slick-header .slick-header-column:last-child .filter-button:hover,\n.q-grid.hide-scrollbar > .slick-header .slick-header-column.active:last-child .filter-button:hover,\n.q-grid.hide-scrollbar > .slick-header .slick-header-column.active:last-child .filter-button.filter-active {\n  border-right: 1px solid transparent;\n}\n\n.q-grid .slick-header-column .filter-button.filter-active,\n.q-grid .slick-header-column .filter-button.filter-active:hover{\n  background-color: #deeaf7;\n  border-left: 1px solid #cccccc;\n}\n\n.q-grid .slick-header-column {\n  background: rgb(245, 245, 245);\n  color: #565656;\n  border-right-style: none;\n  font-size: 13px;\n  font-weight: bold;\n  padding: 6px 2px !important;\n}\n\n.q-grid .slick-header-column.active {\n  background-color: #deeaf7;\n}\n\n.q-grid .slick-header-column-sorted {\n  font-style: inherit !important;\n}\n\n.q-grid .slick-header-column:first-child .slick-column-name {\n  margin-left: 6px !important;\n}\n\n.q-grid .slick-sort-indicator {\n  height: 8px !important;\n  margin-left: 6px;\n}\n\n.q-grid .slick-sort-indicator.fa-sort-asc {\n  margin-top: 4px;\n  color: #5862ff;\n}\n\n.q-grid .slick-sort-indicator.fa-sort-desc {\n  margin-top: 1px;\n  color: #5862ff;\n}\n\n.q-grid .slick-sort-indicator.fa-spinner {\n  height: auto !important;;\n  width: auto !important;;\n  margin-top: 3px;\n}\n\n.q-grid .fa-check {\n  color: #17a700;\n}\n\n.q-grid .slick-column-name {\n  margin-bottom: 0px;\n  float: left;\n}\n\n.q-grid .slick-resizable-handle {\n  width: 1px;\n  background-color: #c5c5c5;\n  border-left: 3px solid rgb(245, 245, 245);\n  border-right: 3px solid rgb(245, 245, 245);\n}\n\n.q-grid .slick-resizable-handle.active {\n  border-right-color: #deeaf7;\n}\n\n.q-grid .slick-cell {\n  border-bottom: 1px solid #e1e8ed;\n  border-right: none;\n  border-left: 1px solid transparent;\n  font-size: 13px;\n  font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n  padding-left: 0px;\n  padding-top: 4px;\n  border-top: none;\n}\n\n.q-grid.highlight-selected-row .slick-cell.selected {\n  background-color: #deeaf7;\n}\n\n.q-grid.highlight-selected-cell .slick-cell.active {\n  border: 2px solid rgb(65, 165, 245);\n  padding-top: 2px;\n  padding-bottom: 1px;\n  padding-left: 3px;\n}\n\n.q-grid .slick-cell.editable:not(.idx-col) {\n  border: 2px solid rgb(65, 165, 245);\n  padding-top: 2px;\n  padding-bottom: 1px;\n  padding-left: 3px !important;\n  background-color: #FFF;\n  -webkit-box-shadow: 0 2px 5px rgba(0,0,0,0.4);\n  -moz-box-shadow: 0 2px 5px rgba(0,0,0,0.4);\n  box-shadow: 0 2px 5px rgba(0,0,0,0.4);\n}\n\n.q-grid .slick-cell.editable .editor-select:focus {\n  outline-style: none;\n}\n\n.q-grid .slick-cell.idx-col {\n  font-weight: bold;\n  margin-right: 3px;\n}\n\n.q-grid .slick-cell.idx-col.last-idx-col {\n  border-right: 1px solid rgb(225, 232, 237);\n}\n\n.q-grid .slick-cell.idx-col:not(.first-idx-col) {\n  font-weight: bold;\n  border-left: 1px solid rgb(225, 232, 237);\n  margin-right: 3px;\n}\n\n.q-grid .idx-col.group-top {\n  border-bottom-color: transparent;\n  background-color: #FFF;\n}\n\n.q-grid .idx-col.group-middle {\n  border-top-color: transparent;\n  border-bottom-color: transparent;\n  color: transparent;\n  background-color: #FFF;\n}\n\n.q-grid .idx-col.group-bottom {\n  border-top-color: transparent;\n  color: transparent;\n  background-color: #FFF;\n}\n\n.q-grid .idx-col.group-single {\n  background-color: transparent;\n}\n\n.q-grid .slick-cell.l0.r0 {\n  border-left: none;\n  padding-left: 6px;\n  z-index: 85;\n}\n\n.q-grid .slick-cell.l1.r1 {\n  z-index: 86;\n}\n\n.q-grid .slick-cell.l2.r2 {\n  z-index: 87;\n}\n\n.q-grid .slick-cell.l3.r3 {\n  z-index: 88;\n}\n\n.q-grid .slick-cell.l4.r4 {\n  z-index: 89;\n}\n\n.q-grid .slick-cell.l5.r5 {\n  z-index: 90;\n}\n\n.q-grid .slick-cell.editable {\n  z-index: 91 !important;\n}\n\n.q-grid .slick-cell.selected {\n  background-color: transparent;\n}\n\n/* Filter button */\n\n.q-grid .slick-header-column.active .filter-button, .filter-button:hover {\n  background-color: #deeaf7;\n  border-left: 1px solid #cccccc;\n}\n\n.q-grid .slick-header-column.filter-button-disabled .filter-button {\n  color: #bababa;\n}\n\n.q-grid .filter-button {\n  position: absolute;\n  right: 4px;\n  top: 0px;\n  line-height: 29px;\n  height: 28px;\n  width: 21px;\n  text-align: center;\n  z-index: 10;\n  background-image: none;\n  margin-top: 0px;\n}\n\n.q-grid .filter-button:hover {\n  background-color: #efefef;\n  border-left: 1px solid #cccccc;\n}\n\n/* Filter dropdowns */\n\n.q-grid-container .grid-filter {\n  z-index: 1000;\n  position: absolute;\n  padding: 0px;\n  margin: 0px;\n  max-height: 400px;\n  display: block;\n  border-radius: 0px;\n  /* we previously got these style from bootstrap */\n  float: left;\n  min-width: 160px;\n  list-style: none;\n  font-size: 13px;\n  text-align: left;\n  background-color: #fff;\n  border: 1px solid rgba(0, 0, 0, 0.15);\n  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.175);\n  background-clip: padding-box;\n}\n\n.q-grid-container .filter-error-msg {\n  padding: 8px 14px;\n  width: 160px;\n}\n\n.q-grid-container .grid-filter h3.qgrid-popover-title {\n  padding: 5px 30px 5px 11px;\n  border-bottom: 1px solid #d3d3d3;\n  border-radius: 0px;\n  /* we previously got these style from bootstrap */\n  margin: 0;\n  font-size: 13px;\n  background-color: #f7f7f7;\n  font-family: inherit;\n  font-weight: 500;\n  line-height: 1.1;\n  color: inherit;\n  display: block;\n}\n\n.q-grid-container .grid-filter .dropdown-title {\n  font-size: 13px;\n}\n\n.q-grid-container .grid-filter i.close-button {\n  position: absolute;\n  right: 11px;\n  top: 7px;\n  padding: 0;\n  color: #ababab;\n  cursor: pointer;\n  background-image: none;\n  margin-top: 0px;\n}\n\n.q-grid-container .grid-filter i.close-button:hover {\n  color: #777777;\n}\n\n.q-grid-container .grid-filter .dropdown-footer {\n  background-color: #f7f7f7;\n  border-top: 1px solid #d3d3d3;\n  padding: 4px 12px;\n  height: 19px;\n}\n\n.q-grid-container .grid-filter .dropdown-footer a.reset-link {\n  padding: 0px;\n  float: right;\n}\n\n.q-grid-container .grid-filter .dropdown-footer a.select-all-link {\n  padding: 0px;\n}\n\n.q-grid-container .date-range-filter .dropdown-body {\n  margin: 15px 11px;\n  width: 210px;\n}\n\n.q-grid-container .date-range-filter .start-date {\n  margin-right: 4px;\n  width: 80px;\n}\n\n.q-grid-container .date-range-filter .end-date {\n  margin-left: 4px;\n  width: 80px;\n}\n\n.q-grid-container .numerical-filter .dropdown-body {\n  margin: 20px 23px 10px 20px;\n  width: 207px;\n  text-align: center;\n}\n\n.q-grid-container .numerical-filter .slider-range {\n  margin-bottom: 4px;\n}\n\n\n.q-grid-container .numerical-filter .ui-slider-handle {\n  width: 18px;\n  padding: 0;\n}\n\n.q-grid-container .numerical-filter .range-separator {\n  font-size: 28px;\n  font-weight: 300;\n  padding: 0 7px;\n  color: #646a76;\n  position: relative;\n  top: 4px;\n}\n\n.text-filter-grid * {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n}\n\n.text-filter .slick-viewport {\n  overflow-y: auto !important;\n  overflow-x: hidden !important;\n}\n\n.text-filter .input-area {\n  padding: 12px;\n}\n\n.text-filter .no-results {\n  margin-left: 12px;\n  margin-bottom: 10px;\n}\n\n.text-filter .search-input {\n  height: 30px;\n  width: 100%;\n  margin-bottom: 0px;\n  box-sizing: border-box;\n}\n\n.text-filter .text-filter-grid {\n  width: 300px;\n  height: 250px;\n  box-sizing: border-box;\n  border-top: 1px solid #d3d3d3;\n}\n\n.text-filter .slick-header {\n  border: none;\n}\n\n.text-filter .slick-header-columns {\n  height: 0px;\n}\n\n.text-filter .slick-cell {\n  line-height: 30px;\n  border-left: none;\n  border-right: none;\n  background-color: #ffffff !important;\n  border-bottom: 1px solid #e1e8ed !important;\n  padding: 0;\n  text-align: left;\n  cursor: pointer;\n}\n\n.text-filter .slick-row.odd .slick-cell {\n  background: #fafafa !important;\n}\n\n.text-filter .slick-row.active .slick-cell {\n  background-color: #deeaf7 !important;\n  border-top: 1px solid transparent !important;\n}\n\n.text-filter .check-box-cell {\n  text-align: center;\n  line-height: 28px;\n}\n\n.text-filter .check-box-cell input {\n  margin: 0;\n}\n\n/* from custom-bootstrap *****************/\n\n.q-grid-container input.datepicker {\n  padding: 4px 4px 2px 4px;\n  border: 1px solid lightgrey;\n  font-size: 13px;\n  line-height: 18px;\n  font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n}\n\n/* jquery-ui overrides */\n\n.ui-widget, .ui-widget input, .ui-widget select, .ui-widget textarea, .ui-widget button {\n  font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n  font-size: 13px;\n}\n\n.ui-tooltip {\n  opacity: 1.0 !important;\n}\n\n/* jquery-ui datepicker style overrides */\n\n#ui-datepicker-div {\n  z-index: 9999 !important;\n}\n\n#ui-datepicker-div.ui-datepicker {\n  font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n  /*@include box-shadow(0 5px 10px rgba(0, 0, 0, 0.2))*/\n  z-index: 99 !important;\n  padding: 0 !important;\n  background-color: white;\n  border: 1px solid gray;\n}\n\n#ui-datepicker-div.ui-datepicker .ui-icon {\n  display: inline-block;\n  font: normal normal normal 14px/1 FontAwesome;\n  font-size: inherit;\n  text-rendering: auto;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-indent: 0px;\n  margin-left: -4px;\n  margin-top: -6px;\n  background-image: none;\n}\n\n#ui-datepicker-div.ui-datepicker .ui-icon-circle-triangle-w:before {\n    content: \"\\f053\";\n}\n\n#ui-datepicker-div.ui-datepicker .ui-icon-circle-triangle-e:before {\n    content: \"\\f054\";\n}\n\n\n/* from slickgrid editing example */\ninput.editor-text {\n  width: 100%;\n  height: 100%;\n  border: 0;\n  margin: -1px 0 0 0;\n  background: transparent;\n  outline: 0;\n  padding: 0;\n}\n\n.ui-datepicker-trigger {\n  width: 16px;\n  height: 16px;\n  margin-top: 2px;\n  padding: 0;\n  vertical-align: top;\n  left: 4px;\n  position: relative;\n}\n\n.slick-cell.boolean {\n  text-align: center;\n}\n\n.bool-radio-wrapper {\n  width: 150px;\n  position: relative;\n  margin: 8px auto 4px auto;\n}\n\n.label-true {\n  padding: 4px 28px 4px 13px;\n}\n\n.label-false {\n  padding: 4px 28px 4px 4px;\n  margin-left: 15px;\n}\n\ninput.bool-filter-radio {\n  margin-left: -23px;\n}\n\n.slick-cell {\n  -webkit-touch-callout: none; /* iOS Safari */\n    -webkit-user-select: none; /* Safari */\n     -khtml-user-select: none; /* Konqueror HTML */\n       -moz-user-select: none; /* Firefox */\n        -ms-user-select: none; /* Internet Explorer/Edge */\n            user-select: none;\n}\n\n.slick-row .slick-cell:not(:first-child) {\n  padding-left: 5px;\n  margin-left: -4px;\n}\n\n.q-grid .slick-sort-indicator-desc,\n.q-grid .slick-sort-indicator-asc {\n  background-image: none;\n}\n\n.jupyter-widgets {\n  overflow: auto !important;\n}\n",""]),e.exports=t},1491:(e,t,i)=>{var n=i(3379),s=i(7194);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.id,s,""]]);n(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},4478:(e,t,i)=>{var n=i(3379),s=i(1491);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.id,s,""]]);n(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},8138:(e,t,i)=>{e.exports=i(9686),e.exports.version=i(4147).version},6466:(e,t,i)=>{var n=i(2914),s=i(1319);class r extends s.FilterBase{get_filter_html(){return`\n      <div class='boolean-filter grid-filter qgrid-dropdown-menu'>\n        <h3 class='qgrid-popover-title'>\n          <div class='dropdown-title'>Filter by ${this.field}</div>\n          <i class='fa fa-times icon-remove close-button'/>\n        </h3>\n        <div class='dropdown-body'>\n          <form>\n            <div class="bool-radio-wrapper">\n              <label class="radio-label label-true" for="radio-true">True</label>\n              <input type="radio" name="bool-filter-radio"\n                class="bool-filter-radio" id="radio-true" value="true">\n              <label class="radio-label label-false" for="radio-false">False</label>\n              <input type="radio" name="bool-filter-radio"\n                class="bool-filter-radio" id="radio-false" value="false">\n            </div>\n          </form>\n          <div class='no-results hidden'>No results found.</div>\n        </div>\n        <div class='dropdown-footer'>\n          <a class='reset-link' href='#'>Reset</a>\n        </div>\n      </div>\n    `}update_min_max(e,t){this.values=e.values,this.length=e.length,this.selected="filter_info"in e?e.filter_info.selected:null,this.show_filter()}initialize_controls(){super.initialize_controls(),this.radio_buttons=this.filter_elem.find(".bool-filter-radio"),this.filter_elem.find("label").click((e=>{var t=n(e.currentTarget).attr("for");this.radio_buttons.filter(`#${t}`).click()})),null==this.selected?this.radio_buttons.prop("checked",!1):this.radio_buttons.filter(`#radio-${this.selected}`).prop("checked",!0),this.radio_buttons.change((()=>{var e=this.radio_buttons.filter(":checked"),t=this.selected;0==e.length?this.selected=null:this.selected="true"==e.val(),this.selected!=t&&this.send_filter_changed()}))}is_active(){return null!=this.selected}reset_filter(){this.radio_buttons.prop("checked",!1),this.selected=null,this.send_filter_changed()}get_filter_info(){return{field:this.field,type:"boolean",selected:this.selected}}}e.exports={BooleanFilter:r}},8421:(e,t,i)=>{var n=i(2914),s=i(1319);class r extends s.FilterBase{get_filter_html(){return`\n      <div class='date-range-filter grid-filter qgrid-dropdown-menu'>\n        <h3 class='qgrid-popover-title'>\n          <div class='dropdown-title'>Filter by ${this.field}</div>\n          <i class='fa fa-times icon-remove close-button'/>\n        </h3>\n        <div class='dropdown-body'>\n          <input class='datepicker ignore start-date'/>\n          <span class='to'>to</span>\n          <input class='datepicker ignore end-date'/>\n        </div>\n        <div class='dropdown-footer'>\n          <a class='reset-link' href='#'>Reset</a>\n        </div>\n      </div>\n    `}update_min_max(e,t){this.min_value=e.filter_min,this.max_value=e.filter_max;var i=e.filter_info;i?(this.filter_start_date=i.min||this.min_value,this.filter_end_date=i.max||this.max_value):(this.filter_start_date=this.min_value,this.filter_end_date=this.max_value),this.has_multiple_values=this.min_value!=this.max_value,this.show_filter(),t&&this.update_filter_button_disabled()}reset_filter(){this.start_date_control.datepicker("setDate",this.min_date),this.end_date_control.datepicker("setDate",this.max_date),this.start_date_control.datepicker("option","maxDate",this.max_date),this.end_date_control.datepicker("option","minDate",this.min_date),this.filter_start_date=null,this.filter_end_date=null,this.send_filter_changed()}initialize_controls(){super.initialize_controls(),this.min_date=new Date(this.min_value),this.max_date=new Date(this.max_value),this.start_date_control=this.filter_elem.find(".start-date"),this.end_date_control=this.filter_elem.find(".end-date");var e={dayNamesMin:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],prevText:"",nextText:"",minDate:this.min_date,maxDate:this.max_date,beforeShow:(e,t)=>{var i=n(t);i.closest(".qgrid-dropdown-menu").addClass("calendar-open");var s=i.datepicker("widget");s.css("margin-left",n(e).outerWidth()-s.outerWidth()),s.addClass("stay-open-on-click filter-child-elem")},onSelect:(e,t)=>{var i=this.start_date_control.val(),s=this.end_date_control.val(),r=new Date(i),l=new Date(s);r=Date.UTC(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()),l=Date.UTC(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),l+=86399999,this.filter_start_date=r,this.filter_end_date=l,this.send_filter_changed();var o=n(t.input);setTimeout((function(){o.blur()}),100),o.hasClass("start-date")&&this.end_date_control.datepicker("option","minDate",r),o.hasClass("end-date")&&this.start_date_control.datepicker("option","maxDate",new Date(s))}};this.filter_elem.find(".datepicker").datepicker(e),null!=this.filter_start_date?this.start_date_control.datepicker("setDate",this.get_utc_date(this.filter_start_date)):this.start_date_control.datepicker("setDate",this.min_date),null!=this.filter_end_date?this.end_date_control.datepicker("setDate",this.get_utc_date(this.filter_end_date)):this.end_date_control.datepicker("setDate",this.max_date)}get_utc_date(e){var t=new Date(e);return new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())}get_filter_info(){return{field:this.field,type:"date",min:this.filter_start_date,max:this.filter_end_date}}is_active(){return this.filter_start_date||this.filter_end_date}}e.exports={DateFilter:r}},1767:(e,t,i)=>{var n=i(2914);i(4592),e.exports={validateNumber:e=>isNaN(e)?{valid:!1,msg:"Please enter a valid integer"}:{valid:!0,msg:null},SelectEditor:class{constructor(e){for(var t in this.column_info=e.column,this.options=[],this.column_info.editorOptions.options?this.options=this.column_info.editorOptions.options:this.options=["yes","no"],this.elem=n("<SELECT tabIndex='0' class='editor-select'>"),this.options){var i=n.trim(this.options[t]),s=n("<OPTION>");s.val(i),s.text(i),s.appendTo(this.elem)}this.elem.appendTo(e.container),this.elem.focus()}destroy(){this.elem.remove()}focus(){this.elem.focus()}loadValue(e){this.defaultValue=e[this.column_info.field],this.elem.val(this.defaultValue)}serializeValue(){return"yes"==this.options[0]?"yes"==this.elem.val():this.elem.val()}applyValue(e,t){e[this.column_info.field]=t}isValueChanged(){return this.elem.val()!=this.defaultValue}validate(){return{valid:!0,msg:null}}},IndexEditor:class{constructor(e){this.column_info=e.column,this.$cell=n(e.container),this.$cell.attr("title","Editing index columns is not supported"),this.$cell.tooltip(),this.$cell.tooltip("enable"),this.$cell.tooltip("open"),setTimeout(((t,i)=>{this.$cell.tooltip("destroy"),e.cancelChanges()}),3e3)}destroy(){}focus(){}loadValue(e){this.$cell.text(this.column_info.formatter(null,null,e[this.column_info.field],this.column_info,null))}serializeValue(){}applyValue(e,t){}isValueChanged(){return!1}validate(){return{valid:!0,msg:null}}}}},1319:(e,t,i)=>{var n=i(2914);e.exports={FilterBase:class{constructor(e,t,i){this.field=e,this.column_type=t,this.qgrid=i,this.widget_model=i.model,this.widget_model&&(this.precision=this.widget_model.get("precision")),this.has_multiple_values=!0}handle_msg(e){var t=e.col_info;"column_min_max_updated"==e.type&&this.update_min_max(t,this.qgrid.has_active_filter())}update_min_max(e,t){throw new Error("not implemented!")}render_filter_button(e,t){this.filter_btn&&this.filter_btn.off(),this.column_header_elem=e,this.slick_grid=t,this.filter_btn=n("\n      <div class='filter-button'>\n        <div class='fa fa-filter filter-icon'/>\n      </div>\n    "),this.filter_icon=this.filter_btn.find(".filter-icon"),this.filter_btn.appendTo(this.column_header_elem),this.filter_btn.click((e=>this.handle_filter_button_clicked(e)))}create_filter_elem(){return this.filter_elem=n(this.get_filter_html()),this.initialize_controls(),this.filter_elem}create_error_msg(){this.filter_elem=n("\n      <div class='filter-error-msg grid-filter'>\n        All values in the column are the same.  Nothing to filter.\n      </div>\n    "),this.initialize_controls(),this.disabled_tooltip_showing=!0}get_filter_html(){throw new Error("not implemented!")}update_filter_button_disabled(){this.column_header_elem&&(this.has_multiple_values||this.is_active()?this.column_header_elem.removeClass("filter-button-disabled"):this.column_header_elem.addClass("filter-button-disabled"))}is_active(){throw new Error("not implemented!")}handle_filter_button_clicked(e){if(this.filter_btn.hasClass("active"))return this.hide_filter(),e.stopPropagation(),!1;this.filter_icon.removeClass("fa-filter"),this.filter_icon.addClass("fa-spinner fa-spin"),this.filter_btn.addClass("disabled");var t={type:"show_filter_dropdown",field:this.field,search_val:null};return this.widget_model.send(t),!1}show_filter(){this.column_header_elem.addClass("active"),this.prev_column_separator=this.column_header_elem.prev(".slick-header-column").find(".slick-resizable-handle"),this.prev_column_separator.addClass("active"),this.filter_btn.removeClass("disabled"),this.filter_btn.addClass("active"),this.filter_icon.removeClass("fa-spinner fa-spin"),this.filter_icon.addClass("fa-filter"),this.has_multiple_values||this.is_active()?this.create_filter_elem():this.create_error_msg(),this.filter_elem.appendTo(this.column_header_elem.closest(".q-grid-container")).show();var e=this.filter_btn.offset().top+this.filter_btn.height(),t=this.filter_btn.offset().left,i=this.filter_elem.width();this.filter_elem.width(i);var n=t+i,s=this.filter_elem.closest(".q-grid-container");n>s.offset().left+s.width()&&(t=this.filter_btn.offset().left+this.filter_btn.width()-i),this.filter_elem.offset({top:0,left:0}),this.filter_elem.offset({top:e,left:t})}hide_filter(){this.filter_elem&&(this.disabled_tooltip_showing?(this.filter_elem.remove(),this.filter_elem=null,this.disabled_tooltip_showing=!1):this.filter_elem.hasClass("hidden")||(this.filter_elem.remove(),this.filter_elem=null),this.filter_btn.removeClass("active"),this.column_header_elem.removeClass("active"),this.prev_column_separator.removeClass("active"))}initialize_controls(){this.filter_elem.find("a.reset-link").click((e=>this.reset_filter())),this.filter_elem.find("i.close-button").click((e=>this.hide_filter())),n(document.body).bind("mousedown",(e=>this.handle_body_mouse_down(e))),n(document.body).bind("keyup",(e=>this.handle_body_key_up(e)))}send_filter_changed(){this.is_active()?this.filter_btn.addClass("filter-active"):this.filter_btn.removeClass("filter-active");var e={type:"change_filter",field:this.field,filter_info:this.get_filter_info()};this.widget_model.send(e)}handle_body_mouse_down(e){return!this.filter_elem||this.filter_elem[0]==e.target||n.contains(this.filter_elem[0],e.target)||n.contains(this.filter_btn[0],e.target)||0!=n(e.target).closest(".filter-child-elem").length||this.hide_filter(),!0}handle_body_key_up(e){27==e.keyCode&&this.hide_filter()}reset_filter(){throw new Error("not implemented!")}get_filter_info(){throw new Error("not implemented!")}}}},171:(e,t,i)=>{var n=i(1319);class s extends n.FilterBase{get_filter_html(){return`\n      <div class='numerical-filter grid-filter qgrid-dropdown-menu'>\n        <h3 class='qgrid-popover-title'>\n          <div class='dropdown-title'>Filter by ${this.field}</div>\n          <i class='fa fa-times icon-remove close-button'/>\n        </h3>\n        <div class='dropdown-body'>\n          <div class='slider-range'/>\n          <span class='slider-label'>\n            <span class='min-value'>0</span>\n            <span class='range-separator'>-</span>\n            <span class='max-value'>100</span>\n          </span>\n        </div>\n        <div class='dropdown-footer'>\n          <a class='reset-link' href='#'>Reset</a>\n        </div>\n      </div>\n    `}initialize_controls(){super.initialize_controls(),this.slider_elem=this.filter_elem.find(".slider-range");var e=[this.filter_value_min||this.min_value,this.filter_value_max||this.max_value];this.set_value(e[0],e[1]),this.slider_elem.slider({range:!0,min:this.min_value,max:this.max_value,values:e,step:this.get_slider_step(),slide:(e,t)=>{this.slide_timeout&&clearTimeout(this.slide_timeout),this.slide_timeout=setTimeout((()=>{var e=this.slider_elem.slider("option","values");this.filter_value_min=e[0],this.filter_value_max=e[1],this.set_value(this.filter_value_min,this.filter_value_max),this.filter_value_min==this.min_value&&(this.filter_value_min=null),this.filter_value_max==this.max_value&&(this.filter_value_max=null),this.send_filter_changed(),this.slide_timeout=null}),100)}})}set_value(e,t){var i,n;"integer"==this.column_type?(i=e.toFixed(0),n=t.toFixed(0)):(i=e.toFixed(this.precision),n=t.toFixed(this.precision)),this.filter_elem.find(".min-value").html(i),this.filter_elem.find(".max-value").html(n)}get_slider_step(){return"integer"==this.column_type?1:(this.max_value-this.min_value)/200}reset_filter(){if(this.filter_value_min=null,this.filter_value_max=null,this.slider_elem){var e=this.get_slider_step();this.slider_elem.slider({min:this.min_value,max:this.max_value,values:[this.min_value,this.max_value],step:e}),this.set_value(this.min_value,this.max_value)}this.send_filter_changed()}is_active(){return null!=this.filter_value_min||null!=this.filter_value_max}update_min_max(e,t){this.min_value=e.slider_min,this.max_value=e.slider_max;var i=e.filter_info;i?(this.filter_value_min=i.min||this.min_value,this.filter_value_max=i.max||this.max_value):(this.filter_value_min=null,this.filter_value_max=null),this.has_multiple_values=this.min_value!=this.max_value,this.show_filter(),t||this.update_filter_button_disabled()}get_filter_info(){return{field:this.field,type:"slider",min:this.filter_value_min,max:this.filter_value_max}}}e.exports={SliderFilter:s}},8571:(e,t,i)=>{i(2914);var n=i(5640),s=i(1319);class r extends s.FilterBase{get_filter_html(){return`\n      <div class='text-filter grid-filter qgrid-dropdown-menu'>\n        <h3 class='qgrid-popover-title'>\n          <div class='dropdown-title'>Filter by ${this.field}</div>\n          <i class='fa fa-times icon-remove close-button'/>\n        </h3>\n        <div class='dropdown-body'>\n          <div class='input-area'>\n            <input class='search-input' type='text'/>\n          </div>\n          <div class='text-filter-grid'/>\n          <div class='no-results hidden'>No results found.</div>\n        </div>\n        <div class='dropdown-footer'>\n          <a class='select-all-link' href='#'>Select All</a>\n          <a class='reset-link' href='#'>Reset</a>\n        </div>\n      </div>\n    `}handle_msg(e){var t=e.col_info;"update_data_view_filter"==e.type&&this.update_data_view(t),super.handle_msg(e)}update_min_max(e,t){this.values=e.values,this.length=e.length,this.value_range=e.value_range,this.selected_rows=[];for(var i=0;i<e.selected_length;i++)this.selected_rows.push(i);this.ignore_selection_changed=!0,this.show_filter(),this.ignore_selection_changed=!1}update_data_view(e){this.update_timeout&&clearTimeout(this.update_timeout),this.update_timeout=setTimeout((()=>{if(this.values=e.values,this.length=e.length,this.value_range=e.value_range,0===this.length)return this.filter_elem.find(".no-results").removeClass("hidden"),void this.filter_grid_elem.addClass("hidden");this.filter_elem.find(".no-results").addClass("hidden"),this.filter_grid_elem.removeClass("hidden"),this.ignore_selection_changed=!0,this.update_slick_grid_data(),this.filter_grid.setData(this.data_view),this.selected_rows=[];for(var t=0;t<e.selected_length;t++)this.selected_rows.push(t),this.row_selection_model.setSelectedRows(this.selected_rows);this.filter_grid.render(),this.ignore_selection_changed=!1}),100)}update_slick_grid_data(){this.grid_items=this.values.map((function(e,t){return{id:e,value:e}})),this.data_view={getLength:()=>this.length,getItem:e=>{var t={id:"row"+e,value:""};return e>=this.value_range[0]&&e<this.value_range[1]&&this.grid_items[e-this.value_range[0]]||t}}}initialize_controls(){super.initialize_controls(),this.filter_grid_elem=this.filter_elem.find(".text-filter-grid"),this.search_string="",this.update_slick_grid_data(),this.sort_comparer=(e,t)=>{var i=e.value,n=t.value;return e.selected!=t.selected?e.selected?-1:1:i>n?1:-1};var e=new Slick.CheckboxSelectColumn({cssClass:"check-box-cell"}),t=[e.getColumnDefinition(),{id:"name",name:"Name",field:"name",formatter:function(e,t,i,n,s){return"<span class='text-filter-value'>"+s.value+"</span>"},sortable:!0}],i={enableCellNavigation:!0,fullWidthRows:!0,syncColumnCellResize:!0,rowHeight:32,forceFitColumns:!0,enableColumnReorder:!1},n=8*i.rowHeight,s=this.column_header_elem.closest(".slick-header").siblings(".slick-viewport").height()-115;s<n&&(n=s);var r=n,l=this.grid_items.length*i.rowHeight;l<=n&&(r=l,this.filter_grid_elem.addClass("hide-scrollbar")),this.filter_grid_elem.height(r),this.filter_grid=new Slick.Grid(this.filter_grid_elem,this.data_view,t,i),this.filter_grid.registerPlugin(e),this.row_selection_model=new Slick.RowSelectionModel({selectActiveRow:!1}),this.row_selection_model.onSelectedRangesChanged.subscribe(((e,t)=>this.handle_selection_changed(e,t))),this.filter_grid.setSelectionModel(this.row_selection_model),this.row_selection_model.setSelectedRows(this.selected_rows),"any"!=this.column_type&&this.filter_grid.onViewportChanged.subscribe(((e,t)=>{this.viewport_timeout&&clearTimeout(this.viewport_timeout),this.viewport_timeout=setTimeout((()=>{var e=t.grid.getViewport(),i={type:"change_filter_viewport",field:this.field,top:e.top,bottom:e.bottom};this.widget_model.send(i),this.viewport_timeout=null}),100)})),this.filter_grid.render(),this.security_search=this.filter_elem.find(".search-input"),this.security_search.keyup((e=>this.handle_text_input_key_up(e))),this.security_search.click((e=>this.handle_text_input_click(e))),this.filter_grid.onClick.subscribe(((e,t)=>this.handle_grid_clicked(e,t))),this.filter_grid.onKeyDown.subscribe(((e,t)=>this.handle_grid_key_down(e,t))),this.filter_elem.find("a.select-all-link").click((e=>{this.ignore_selection_changed=!0,this.reset_filter(),this.filter_list="all";for(var t=[],i=0;i<this.length;i++)t.push(i);return this.row_selection_model.setSelectedRows(t),this.ignore_selection_changed=!1,this.send_filter_changed(),!1})),setTimeout((()=>{this.filter_grid.setColumns(this.filter_grid.getColumns()),this.filter_grid.resizeCanvas()}),10)}toggle_row_selected(e){var t=this.row_selection_model.getSelectedRows(),i=t.filter((function(t){return t!==e}));i.length==t.length&&i.push(e),this.row_selection_model.setSelectedRows(i)}handle_grid_clicked(e,t){this.toggle_row_selected(t.row),this.filter_grid.getActiveCell()||e.stopImmediatePropagation()}handle_grid_key_down(e,t){var i=this.filter_grid.getActiveCell();if(i){if(13==e.keyCode)return void this.toggle_row_selected(i.row);if(40!=e.keyCode&&38!=e.keyCode)return void this.focus_on_search_box();if(0==i.row&&38==e.keyCode)return this.focus_on_search_box(),void e.preventDefault()}}focus_on_search_box(){this.security_search.focus().val(this.search_string),this.filter_grid.resetActiveCell()}handle_text_input_key_up(e){var t=this.search_string;if(40==e.keyCode)return this.filter_grid.focus(),void this.filter_grid.setActiveCell(0,0);if(13==e.keyCode&&this.security_grid.getDataLength()>0&&(this.toggle_row_selected(0),this.security_search.val("")),this.search_string=this.security_search.val(),t!=this.search_string){var i={type:"show_filter_dropdown",field:this.field,search_val:this.search_string};this.widget_model.send(i)}}handle_text_input_click(e){this.filter_grid.resetActiveCell()}handle_selection_changed(e,t){if(this.ignore_selection_changed)return!1;var i=this.row_selection_model.getSelectedRows();if(i=n.sortBy(i,(function(e){return e})),this.excluded_rows=[],"all"==this.filter_list)for(var s=0,r=0;r<this.data_view.getLength();r++)i[s]!=r?this.excluded_rows.push(r):s+=1;else this.filter_list=i.length>0?i:null;this.send_filter_changed()}is_active(){return null!=this.filter_list}reset_filter(){this.ignore_selection_changed=!0,this.search_string="",this.excluded_rows=null,this.security_search.val(""),this.row_selection_model.setSelectedRows([]),this.filter_list=null,this.send_filter_changed();var e={type:"show_filter_dropdown",field:this.field,search_val:this.search_string};this.widget_model.send(e),this.ignore_selection_changed=!1}get_filter_info(){return{field:this.field,type:"text",selected:this.filter_list,excluded:this.excluded_rows}}}e.exports={TextFilter:r}},9686:(e,t,i)=>{var n=i(3883),s=i(5640),r=i(4031);window.$=window.jQuery=i(2914);var l=i(8421),o=i(171),a=i(8571),d=i(6466),h=i(1767),c=null;try{c=i(Object(function(){var e=new Error("Cannot find module 'base/js/dialog'");throw e.code="MODULE_NOT_FOUND",e}()))}catch(e){console.warn("Qgrid was unable to load base/js/dialog. Full screen button won't be available")}i(2721),i(565),i(7357),i(5894),i(5233),i(3518),i(622),i(4592),i(7705),i(6815),i(9094),i(4478);class _ extends n.DOMWidgetModel{defaults(){return s.extend(n.DOMWidgetModel.prototype.defaults(),{_model_name:"QgridModel",_view_name:"QgridView",_model_module:"qgrid",_view_module:"qgrid",_model_module_version:"^1.1.3",_view_module_version:"^1.1.3",_df_json:"",_columns:{}})}}class g extends n.DOMWidgetView{render(){this.model.on("msg:custom",this.handle_msg,this),this.initialize_qgrid()}initialize_qgrid(){this.$el.empty(),this.$el.hasClass("q-grid-container")||this.$el.addClass("q-grid-container"),this.initialize_toolbar(),this.initialize_slick_grid()}initialize_toolbar(){if(this.model.get("show_toolbar")?this.$el.addClass("show-toolbar"):this.$el.removeClass("show-toolbar"),this.toolbar)return;this.toolbar=$("<div class='q-grid-toolbar'>").appendTo(this.$el);let e=e=>$(`\n        <button\n        class='btn btn-default'\n        data-loading-text='${e.loading_text}'\n        data-event-type='${e.event_type}'\n        data-btn-text='${e.text}'>\n            ${e.text}\n        </button>\n      `).appendTo(this.toolbar);e({loading_text:"Adding...",event_type:"add_row",text:"Add Row"}),e({loading_text:"Removing...",event_type:"remove_row",text:"Remove Row"}),this.buttons=this.toolbar.find(".btn"),this.buttons.attr("title","Not available while there is an active filter"),this.buttons.tooltip(),this.buttons.tooltip({show:{delay:300}}),this.buttons.tooltip({hide:{delay:100,duration:0}}),this.buttons.tooltip("disable"),this.full_screen_btn=null,c&&(this.full_screen_modal=$("body").find(".qgrid-modal"),0==this.full_screen_modal.length&&(this.full_screen_modal=$('\n          <div class="modal qgrid-modal">\n            <div class="modal-dialog">\n              <div class="modal-content">\n                <div class="modal-body"></div>\n              </div>\n            </div>\n          </div>\n        ').appendTo($("body"))),this.full_screen_btn=$("\n        <button\n          class='btn btn-default fa fa-arrows-alt full-screen-btn'/>\n      ").appendTo(this.toolbar),this.close_modal_btn=$("\n        <button\n          class='btn btn-default fa fa-times close-modal-btn'\n          data-dismiss=\"modal\"/>\n      ").appendTo(this.toolbar)),this.bind_toolbar_events()}bind_toolbar_events(){this.buttons.off("click"),this.buttons.click((e=>{let t=$(e.target);t.hasClass("disabled")||(this.in_progress_btn&&alert("\n          Adding/removing row is not available yet because the\n          previous operation is still in progress.\n        "),this.in_progress_btn=t,t.text(t.attr("data-loading-text")),t.addClass("disabled"),this.send({type:t.attr("data-event-type")}))})),this.full_screen_btn&&(this.full_screen_btn.off("click"),this.full_screen_btn.click((e=>{this.$el_wrapper=this.$el.parent(),this.$el_wrapper.height(this.$el_wrapper.height()),this.$el.detach();var t={body:this.$el[0],show:!1};IPython&&IPython.keyboard_manager&&(t.keyboard_manager=IPython.keyboard_manager);var i=c.modal(t);i.removeClass("fade"),i.addClass("qgrid-modal"),i.on("shown.bs.modal",(e=>{this.slick_grid.resizeCanvas()})),i.on("hidden.bs.modal",(e=>{this.$el.detach(),this.$el_wrapper.height("auto"),this.$el_wrapper.append(this.$el),this.update_size(),this.slick_grid.bindAllEvents(),this.bind_toolbar_events()})),i.modal("show")})))}initialize_slick_grid(){this.grid_elem||(this.grid_elem=$("<div class='q-grid'>").appendTo(this.$el));var e=JSON.parse(this.model.get("_df_json")),t=this.model.get("_columns");this.data_view=this.create_data_view(e.data),this.grid_options=this.model.get("grid_options"),this.index_col_name=this.model.get("_index_col_name"),this.row_styles=this.model.get("_row_styles"),this.columns=[],this.index_columns=[],this.filters={},this.filter_list=[],this.date_formats={},this.last_vp=null,this.sort_in_progress=!1,this.sort_indicator=null,this.resizing_column=!1,this.ignore_selection_changed=!1,this.vp_response_expected=!1,this.next_viewport_msg=null;var i={filter:o.SliderFilter,validator:h.validateNumber,formatter:this.format_number},n=this;this.type_infos={integer:Object.assign({editor:Slick.Editors.Integer},i),number:Object.assign({editor:Slick.Editors.Float},i),string:{filter:a.TextFilter,editor:Slick.Editors.Text,formatter:this.format_string},datetime:{filter:l.DateFilter,editor:class extends Slick.Editors.Date{constructor(e){super(e),this.loadValue=t=>{this.date_value=t[e.column.field];var i=n.format_date(this.date_value,e.column.field);this.input=$(e.container).find(".editor-text"),this.input.val(i),this.input[0].defaultValue=i,this.input.select(),this.input.on("keydown.nav",(function(e){e.keyCode!==$.ui.keyCode.LEFT&&e.keyCode!==$.ui.keyCode.RIGHT||e.stopImmediatePropagation()}))},this.isValueChanged=()=>this.input.val()!=this.date_value,this.serializeValue=()=>""===this.input.val()?null:r.parseZone(this.input.val(),"YYYY-MM-DD HH:mm:ss.SSS").format("YYYY-MM-DDTHH:mm:ss.SSSZ")}},formatter:(e,t,i,n,s)=>null===i?"NaT":this.format_date(i,n.name)},any:{filter:a.TextFilter,editor:h.SelectEditor,formatter:this.format_string},interval:{formatter:this.format_string},boolean:{filter:d.BooleanFilter,editor:Slick.Editors.Checkbox,formatter:(e,t,i,n,s)=>i?'<span class="fa fa-check"/>':""}},$.datepicker.setDefaults({gotoCurrent:!0,dateFormat:$.datepicker.ISO_8601,constrainInput:!1,prevText:"",nextText:""});var s=Object.values(t).sort(((e,t)=>e.position-t.position));for(let e of s)if(e.name!=this.index_col_name){var c=this.type_infos[e.type]||{},_=e;if(Object.assign(_,c),"any"==e.type&&(_.editorOptions={options:e.constraints.enum}),_.filter){var g=new _.filter(_.field,e.type,this);this.filters[_.id]=g,this.filter_list.push(g)}null==e.width&&delete _.width,null==e.maxWidth&&delete _.maxWidth,e.is_index?(_.editor=h.IndexEditor,e.first_index&&(_.cssClass+=" first-idx-col"),e.last_index&&(_.cssClass+=" last-idx-col"),_.name=e.index_display_text,_.level=e.level,this.grid_options.boldIndex&&(_.cssClass+=" idx-col"),this.index_columns.push(_)):(0==e.editable&&(_.editor=null),this.columns.push(_))}this.index_columns.length>0&&(this.columns=this.index_columns.concat(this.columns)),window.slick_grid=this.slick_grid=new Slick.Grid(this.grid_elem,this.data_view,this.columns,this.grid_options),this.grid_elem.data("slickgrid",this.slick_grid),this.grid_options.forceFitColumns&&this.grid_elem.addClass("force-fit-columns"),this.grid_options.highlightSelectedCell&&this.grid_elem.addClass("highlight-selected-cell"),0!=this.grid_options.highlightSelectedRow&&this.grid_elem.addClass("highlight-selected-row"),setTimeout((()=>{this.slick_grid.init(),this.update_size()}),1),this.slick_grid.setSelectionModel(new Slick.RowSelectionModel),this.slick_grid.setCellCssStyles("grouping",this.row_styles),this.slick_grid.render(),this.update_size(),0!=this.grid_options.filterable&&this.slick_grid.onHeaderCellRendered.subscribe(((e,t)=>{var i=this.filters[t.column.id];i&&i.render_filter_button($(t.node),this.slick_grid)})),this.slick_grid.setColumns(this.slick_grid.getColumns()),$(window).resize((()=>{this.slick_grid.resizeCanvas()})),this.slick_grid.setSortColumns([]),this.grid_header=this.$el.find(".slick-header-columns"),0!=this.grid_options.sortable&&this.grid_header.click((e=>{if(!this.resizing_column&&!this.sort_in_progress){var t=$(e.target).closest(".slick-header-column");if(t.length){var i=t.data("column");if(0!=i.sortable){this.sort_in_progress=!0,this.sorted_column==i?this.sort_ascending=!this.sort_ascending:(this.sorted_column=i,this.sort_ascending=!("defaultSortAsc"in i)||i.defaultSortAsc);var n="fa-sort-asc fa-sort-desc fa fa-spin fa-spinner",s=t.find(".slick-sort-indicator");0==s.length&&(s=$("<span class='slick-sort-indicator'/>").appendTo(t)),this.sort_indicator=s,this.sort_indicator.removeClass(n),this.grid_elem.find(".slick-sort-indicator").removeClass(n),this.sort_indicator.addClass("fa fa-spinner fa-spin");var r={type:"change_sort",sort_field:this.sorted_column.field,sort_ascending:this.sort_ascending};this.send(r)}}}})),this.slick_grid.onViewportChanged.subscribe((e=>{this.viewport_timeout&&clearTimeout(this.viewport_timeout),this.viewport_timeout=setTimeout((()=>{this.last_vp=this.slick_grid.getViewport();var e=this.model.get("_viewport_range");if(this.last_vp.top!=e[0]||this.last_vp.bottom!=e[1]){var t={type:"change_viewport",top:this.last_vp.top,bottom:this.last_vp.bottom};this.vp_response_expected?this.next_viewport_msg=t:(this.vp_response_expected=!0,this.send(t))}this.viewport_timeout=null}),100)}));let p=this.model.get("_editable_rows");p&&Object.keys(p).length>0&&this.slick_grid.onBeforeEditCell.subscribe(((e,t)=>(p=this.model.get("_editable_rows"),p[t.item[this.index_col_name]]))),this.slick_grid.onCellChange.subscribe(((e,t)=>{var i=this.columns[t.cell].name,n=this.slick_grid.getDataItem(t.row),s={row_index:n.row_index,column:i,unfiltered_index:n[this.index_col_name],value:t.item[i],type:"edit_cell"};this.send(s)})),this.slick_grid.onSelectedRowsChanged.subscribe(((e,t)=>{if(!this.ignore_selection_changed){var i={rows:t.rows,type:"change_selection"};this.send(i)}})),setTimeout((()=>{this.$el.closest(".output_wrapper").find(".out_prompt_overlay,.output_collapsed").click((()=>{setTimeout((()=>{this.slick_grid.resizeCanvas()}),1)})),this.resize_handles=this.grid_header.find(".slick-resizable-handle"),this.resize_handles.mousedown((e=>{this.resizing_column=!0})),$(document).mouseup((()=>{setTimeout((()=>{this.resizing_column=!1}),1)}))}),1)}processPhosphorMessage(e){switch(super.processPhosphorMessage(e),e.type){case"resize":case"after-show":this.slick_grid&&this.slick_grid.resizeCanvas()}}has_active_filter(){for(var e=0;e<this.filter_list.length;e++)if(this.filter_list[e].is_active())return!0;return!1}create_data_view(e){let t=this.df_range=this.model.get("_df_range"),i=this.df_length=this.model.get("_row_count");return{getLength:()=>i,getItem:i=>{if(i>=t[0]&&i<t[1]){var n=e[i-t[0]]||{};return n.row_index=i,n}return{row_index:i}}}}set_data_view(e){this.data_view=e,this.slick_grid.setData(e)}format_date(e,t){if(!e)return"";var i=r.parseZone(e,"YYYY-MM-DDTHH:mm:ss.SSSZ"),n=null;if(n=0!=i.millisecond()?"YYYY-MM-DD HH:mm:ss.SSS":0!=i.second()?"YYYY-MM-DD HH:mm:ss":0!=i.hour()||0!=i.minute()?"YYYY-MM-DD HH:mm":"YYYY-MM-DD",t in this.date_formats){var s=this.date_formats[t];n.length>s.length?(this.date_formats[t]=n,setTimeout((()=>{this.slick_grid.invalidateAllRows(),this.slick_grid.render()}),1)):n=this.date_formats[t]}else this.date_formats[t]=n;return i.format(n)}format_string(e,t,i,n,s){return i}format_number(e,t,i,n,s){return null===i?"NaN":i}handle_msg(e){if("draw_table"===e.type)this.initialize_slick_grid();else if("show_error"==e.type)alert(e.error_msg),"add_row"!=e.triggered_by&&"remove_row"!=e.triggered_by||this.reset_in_progress_button();else if("update_data_view"==e.type)this.buttons&&(this.has_active_filter()?(this.buttons.addClass("disabled"),this.buttons.tooltip("enable")):this.buttons.hasClass("disabled")&&(this.buttons.removeClass("disabled"),this.buttons.tooltip("disable"))),this.update_timeout&&clearTimeout(this.update_timeout),this.update_timeout=setTimeout((()=>{var t=JSON.parse(this.model.get("_df_json"));this.row_styles=this.model.get("_row_styles"),this.multi_index=this.model.get("_multi_index");var i=this.create_data_view(t.data);if("change_viewport"===e.triggered_by){if(this.next_viewport_msg)return this.send(this.next_viewport_msg),void(this.next_viewport_msg=null);this.vp_response_expected=!1}if("change_sort"==e.triggered_by&&this.sort_indicator){var n=this.model.get("_sort_ascending");this.sort_indicator.removeClass("fa-spinner fa-spin fa-sort-asc fa-sort-desc");var s=n?"fa-sort-asc":"fa-sort-desc";this.sort_indicator.addClass(s),this.sort_in_progress=!1}let r=null;"remove_row"===e.triggered_by&&(r=this.slick_grid.getViewport().top),this.set_data_view(i);var l=!1;if(this.multi_index)for(var o=1;o<this.filter_list.length;o++)this.filter_list[o].is_active()&&(l=!0);l?this.slick_grid.removeCellCssStyles("grouping"):this.slick_grid.setCellCssStyles("grouping",this.row_styles),this.slick_grid.render(),"add_row"!=e.triggered_by&&"remove_row"!=e.triggered_by||this.has_active_filter()||this.update_size(),this.update_timeout=null,this.reset_in_progress_button(),r?this.slick_grid.scrollRowIntoView(r):"add_row"===e.triggered_by?(this.slick_grid.scrollRowIntoView(e.scroll_to_row),this.slick_grid.setSelectedRows([e.scroll_to_row])):"change_viewport"===e.triggered_by&&this.last_vp.bottom>=this.df_length&&this.slick_grid.scrollRowIntoView(this.last_vp.bottom);var a=this.slick_grid.getSelectedRows().filter((e=>e<Math.min(this.df_length,this.df_range[1])));this.send({rows:a,type:"change_selection"})}),100);else if("change_grid_option"==e.type){var t=e.option_name,i=e.option_value;this.slick_grid.getOptions()[t]!=i&&(this.slick_grid.setOptions({[t]:i}),this.slick_grid.resizeCanvas())}else"change_selection"==e.type?(this.ignore_selection_changed=!0,this.slick_grid.setSelectedRows(e.rows),e.rows&&e.rows.length>0&&this.slick_grid.scrollRowIntoView(e.rows[0]),this.ignore_selection_changed=!1):"change_show_toolbar"==e.type?this.initialize_toolbar():e.col_info&&this.filters[e.col_info.name].handle_msg(e)}reset_in_progress_button(){this.in_progress_btn&&(this.in_progress_btn.removeClass("disabled"),this.in_progress_btn.text(this.in_progress_btn.attr("data-btn-text")),this.in_progress_btn=null)}update_size(){var e=this.grid_options.rowHeight,t="minVisibleRows"in this.grid_options?this.grid_options.minVisibleRows:8,i="maxVisibleRows"in this.grid_options?this.grid_options.maxVisibleRows:15,n=e*t,s="height"in this.grid_options?this.grid_options.height:e*(i+2),r=s,l=(this.data_view.getLength()+1)*e+1;l<=s?(r=Math.max(n,l),this.grid_elem.addClass("hide-scrollbar")):this.grid_elem.removeClass("hide-scrollbar"),this.grid_elem.height(r),this.slick_grid.render(),this.slick_grid.resizeCanvas()}}e.exports={QgridModel:_,QgridView:g}},4147:e=>{"use strict";e.exports={version:"1.1.3"}}}]);